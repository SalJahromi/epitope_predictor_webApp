<!DOCTYPE html>
<html>
<head>
    <title>Flask Input Example</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

</head>
<body>

    <nav class="navbar navbar-dark bg-primary">
        <h1> Epitome Dash </h1>
    </nav>
    <div class = "flex-main-container">

        <!-- sequence input container -->
        <div class = "input-container">
            <h2 class = "h2 input">Enter a Sequence</h2>
            <form method="POST" enctype="multipart/form-data">
                <!--input text box and submit button-->
                <input type="file" name="fasta_file" accept=".fasta,.fa">
                <input type="submit" value="Upload">
            </form>
        </div>


        <div class="uploaded-info">
            <h2 class = "h2 uploadedSeqs">Uploaded Sequences</h2>
            {% if filename %}
            <p><strong>Uploaded File:</strong> {{ filename }}</p>
            {% endif %}
    
        {% if sequences %}
            <h3>Sequences</h3>
            <div class ="input-seqs">
                {% for header, seq in sequences %}
                    <p><strong>{{ header }}</strong><br>{{ seq }}</p>
                {% endfor %}
            </div>
        {% endif %}
        </div>

        


        <div id="prediction" class="epitope-predictions">
            <h2 class="h2 epitope">Predicted Epitopes</h2>
            <div id="epitope-result">
                {% if predicted %}
                <p>{{ predicted }}</p>
                {% endif %}
            </div>
            <!-- Remove the form wrapper -->
            <button onclick="submitEpitopePrediction(event)" class="btn btn-primary">Epitopes</button>
            <div id="spinner" style="display: none; text-align:center; margin-top:20px;">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p>Predicting epitopes...</p>
            </div>
            
        </div>
        
        


  

    </div>
 


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
